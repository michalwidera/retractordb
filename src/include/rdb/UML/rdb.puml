@startuml

class Descriptor {
    {field} fieldNames

    {method} append
    {method} operator|
    {method} operator=
    {method} getSizeInBytes
    {method} position
    {method} len
    {method} offset
    {method} type
    {method} toString
    {method} cast
    {method} operator<<
    {method} operator>>
}

class genericBinaryFileAccessor {
    {field} fileNameStr
}


class posixBinaryFileAccessor {
    {field} fileNameStr
}

class posixPrmBinaryFileAccessor {
    {field} fileNameStr
    {field} fd
}


interface FileAccessorInterface {
    {method} read
    {method} write
    {method} fileName
}

class payload {
    {field} descriptor

    {method} getDescriptor
    {method} get
    {method} setItem
    {method} getItem
    {method} setHex
    {method} operator>>
    {method} operator<<
}

class storageAccessor {
    {field} accessor
    {field} descriptor
    {field} reverse
    {field} recordsCount
    {field} dataFileStatus
    {field} filename

    {method} createDescriptor
    {method} read
    {method} write
    {method} getDescriptor
    {method} setReverse
    {method} setRemoveOnExit
    {method} getRecordsCount
}

class externalAccessor {
    {field} accessor
    {field} descriptor
    {field} filename

    {method} createDescriptor
    {method} read
    {method} getDescriptor
}

enum rdb::eType {
    STRING
    BYTEARRAY
    UINT
    BYTE
    INTEGER
    FLOAT
    DOUBLE
}

FileAccessorInterface --> genericBinaryFileAccessor
FileAccessorInterface --> posixBinaryFileAccessor
FileAccessorInterface --> posixPrmBinaryFileAccessor

genericBinaryFileAccessor --* storageAccessor
posixBinaryFileAccessor --* storageAccessor
posixPrmBinaryFileAccessor --* storageAccessor

Descriptor --* storageAccessor
Descriptor --* externalAccessor

Descriptor --- rdb::eType

payload --* Descriptor

@enduml